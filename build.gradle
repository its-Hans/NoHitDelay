plugins {
	id 'fabric-loom' version "${loom_version}"
}

version mod_version
group project_group

loom {
	splitEnvironmentSourceSets()
	mixin {
		useLegacyMixinAp = false
	}
}

dependencies {
	minecraft "com.mojang:minecraft:${minecraft_version}"
	mappings "net.fabricmc:yarn:${minecraft_version}+build.${yarn_build}:v2"
	modImplementation "net.fabricmc:fabric-loader:${loader_version}"
}

def i = [
		name: mod_name,
		version: mod_version
]

processClientResources {
	inputs.properties(i)
	filesMatching('fabric.mod.json') {
		expand(inputs.properties)
	}
}

jar {
	inputs.properties(i)
	from('LICENSE') {
		rename { "${it}_${inputs.properties.name}" }
	}
}